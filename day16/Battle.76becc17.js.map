{"version":3,"sources":["webpack:///./src/pages/Battle/PlayerCard.js","webpack:///./src/pages/Battle/PlayerForm.js","webpack:///./src/pages/Battle/index.js","webpack:///./src/pages/Battle/Battle.less"],"names":["PlayerCard","player","avatar","handleClear","xs","data-src","rounded","style","backgroundColor","width","height","src","className","onClick","variant","PlayerForm","props","e","setState","value","target","preventDefault","handleSubmit","name","state","initialValue","this","onSubmit","type","placeholder","onChange","handleChange","block","disabled","React","Battle","categories","submited","avatarKey","console","log","finded","filter","item","category","thumbnail_url","player1","player2","player1Submitted","player2Submitted","player1Avatar","player2Avatar","axios","res","data","enterBattleResult","sm","styles","size"],"mappings":"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","file":"Battle.76becc17.js","sourcesContent":["import React from 'react'\r\nimport { Button, Row, Col, Image } from \"react-bootstrap\";\r\n\r\nconst PlayerCard = ({ player, avatar, handleClear }) => (\r\n  <Row>\r\n    <Col xs={2}>\r\n      <Image\r\n        data-src={avatar ? avatar : \"https://github.com/{player}.png?size=200\"}\r\n        rounded\r\n        style={{ backgroundColor: \"gray\", width:64,height:64 }}\r\n        src=\"http://placehold.it/64x64\"\r\n        className=\"lazyload\"\r\n      />\r\n    </Col>\r\n    <Col xs={8}>\r\n      <h3>{player}</h3>\r\n    </Col>\r\n    <Col xs={2}>\r\n      <Button onClick={handleClear} variant=\"danger\">\r\n        X\r\n      </Button>\r\n    </Col>\r\n  </Row>\r\n);\r\n\r\nexport default PlayerCard","import React from \"react\";\r\nimport { Button, Row, Col, Form, Image } from \"react-bootstrap\";\r\n\r\n\r\nexport default class PlayerForm extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            value: props.initialValue\r\n        }\r\n    }\r\n    handleChange = (e) => {\r\n        this.setState({\r\n            value: e.target.value\r\n        })\r\n    }\r\n    onSubmit = (e) => {\r\n        e.preventDefault()\r\n        const { handleSubmit,  name } = this.props\r\n        const { value } = this.state\r\n        handleSubmit(name, value)\r\n    }\r\n    render () {\r\n        const { name } = this.props\r\n        const { value } = this.state\r\n\r\n        return (<Form onSubmit={this.onSubmit}>\r\n        <Form.Group>\r\n          <Form.Label>{name}</Form.Label>\r\n          <Form.Row>\r\n            <Col xs={8}>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Player2 Name\"\r\n                value={value}\r\n                onChange={this.handleChange}\r\n              />\r\n              <Form.Text className=\"text-muted\">\r\n                * use github name not repo name\r\n              </Form.Text>\r\n            </Col>\r\n            <Col xs={4}>\r\n              <Button type=\"submit\" variant=\"info\" block disabled={!value}>\r\n                提交\r\n              </Button>\r\n            </Col>\r\n          </Form.Row>\r\n        </Form.Group>\r\n      </Form>)\r\n    }\r\n}","import React from \"react\";\nimport axios from 'axios';\nimport { Button, Container, Row, Col, Form, Image } from \"react-bootstrap\";\nimport Footer from \"@/components/Footer\";\nimport styles from \"./Battle.less\";\nimport PlayerCard from './PlayerCard';\nimport PlayerForm from './PlayerForm';\n\nexport default class Battle extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      player1: \"\",\n      player2: \"\",\n      player1Submitted: false,\n      player2Submitted: false,\n      player1Avatar:'',\n      player2Avatar:'',\n      categories: []\n    };\n  }\n\n  async componentDidMount () {\n    const res = await axios.get('/api/store/categories')\n    this.setState({\n      categories: res.data.data\n    })\n  }\n\n  handleClear(player) {\n    // console.log(\"clear\", player)\n    const submited = `${player}Submitted`;\n    this.setState({\n      [player]: \"\",\n      [submited]: false,\n    });\n  }\n\n  handleSubmit = (player, value) => {\n    const { categories } = this.state\n    const submited = `${player}Submitted`;\n    const avatarKey = `${player}Avatar`;\n    console.log('submited', player, submited, categories)\n\n    console.log('categories', categories)\n    const finded = categories.filter((item) => item.name == value)\n    const category = finded ? finded[0] : null\n    console.log('category', category)\n    \n    \n    this.setState({\n      [submited]: true,\n      [player]: value,\n      [avatarKey]: category?.thumbnail_url\n    });\n  }\n\n  render() {\n    const { player1, player2, player1Submitted, player2Submitted, player1Avatar, player2Avatar } = this.state;\n    const { enterBattleResult } = this.props;\n\n    return (\n      <Container>\n        <h2 className=\"text-center\">Instructions</h2>\n        <Row>\n          <Col xs={4} sm={4} className=\"d-flex align-items-end flex-column\">\n            <h3 className=\"d-none d-sm-block\">Enter two Github</h3>\n            <i className={`fa fa-user ${styles.card1}`} />\n          </Col>\n          <Col xs={4} sm={4} className=\"text-center\">\n            <h3 className=\"text-center d-none d-sm-block\">Battle</h3>\n            <i className={`fa fa-fighter-jet ${styles.card1}`} />\n          </Col>\n          <Col xs={4} sm={4} className=\"d-flex flex-column align-items-start\">\n            <h3 className=\"d-none d-sm-block\">See the winner</h3>\n            <div>\n              <i className={`fa fa-trophy ${styles.card1}`} />\n            </div>\n          </Col>\n        </Row>\n        <h3 className={`text-center ${styles.players}`}>Players</h3>\n        <Row>\n          <Col xs={12} sm={6}>\n            {player1Submitted ? (\n              <PlayerCard\n                player={player1}\n                avatar={player1Avatar}\n                handleClear={() => this.handleClear(\"player1\")}\n              />\n            ) : (<PlayerForm initialValue=''  name='player1' handleSubmit={this.handleSubmit}/>\n            )}\n          </Col>\n          <Col xs={12} sm={6}>\n            {player2Submitted ? (\n              <PlayerCard\n                player={player2}\n                avatar={player2Avatar}\n                handleClear={() => this.handleClear(\"player2\")}\n              />\n            ) : (\n              <PlayerForm initialValue=''  name='player2' handleSubmit={this.handleSubmit}/>\n            )}\n          </Col>\n        </Row>\n        {player1Submitted && player2Submitted ? (\n          <Row>\n            <Col className=\"text-center\">\n              <Button\n                size=\"lg\"\n                onClick={() => enterBattleResult(player1, player2)}\n              >\n                Battle\n              </Button>\n            </Col>\n          </Row>\n        ) : null}\n        <Footer>\n          <div className=\"text-center\">版权所有 &copy; liuwencan</div>\n        </Footer>\n      </Container>\n    );\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"card1\":\"_2IebFuAYp7zvu_vbgeJkiR\",\"players\":\"_3FklT15wOsYUtIoIDfc_X8\"};"],"sourceRoot":""}